!function(t){t.fn.mlpm=function(e){"use strict";var i=arguments,n=null;return this.each((function(){function s(t){t.stopPropagation&&t.preventDefault?(t.stopPropagation(),t.preventDefault()):(t.cancelBubble=!0,t.returnValue=!1)}function l(e,i){if(null==e||null==i)return!1;e.on(i,(function(n,s){e.hide();try{if(!n.pageX||!n.pageY)return!1;s=s||{pageX:n.pageX,pageY:n.pageY};var l=document.elementFromPoint(s.pageX,s.pageY);l=3==l.nodeType?l.parentNode:l,t(l).trigger(i,s)}catch(e){t.error("Error while propagating event: "+e.message)}finally{e.show()}}))}function a(){var e=t("<nav />").prop({id:B.settings.menuID,className:B.settings.wrapperClass}).appendTo(B.settings.container);r(B.settings.menu,e)}function r(e,i){null==e.level&&(e.level=0),t.each(e,(function(){var n=t("<div />").attr({class:"levelHolderClass"+("rtl"==B.settings.direction?" rtl":" ltr"),"data-level":e.level,style:("rtl"==B.settings.direction?"margin-right: ":"margin-left: ")+(0!=e.level||B.settings.collapsed?"-200%":0)}).appendTo(i);x(B.settings.menuWidth)||k(B.settings.menuWidth)&&B.settings.menuWidth,n.bind(N,(function(t){v(t,n)})),null!=this.id&&n.attr({id:this.id});var s=t("<h2 />").attr({style:"text-align: "+("rtl"==B.settings.direction?"right":"left")}).text(this.title).appendTo(n);t("<img />").prop({class:("rtl"==B.settings.direction?"floatLeft":"floatRight")+" cursorPointer",src:this.image}).prependTo(s),t("<i />").prop({class:("rtl"==B.settings.direction?"floatLeft":"floatRight")+" cursorPointer "+this.icon}).prependTo(s).bind(_,(function(t){c(t,n,e)})),e.level>0&&g(n),t("<ul />").appendTo(n),t.each(this.items,(function(){m(this,n,-1)}))}))}function o(){var t=B.settings.container.find("nav").length>0?B.settings.container.find("nav"):B.settings.menu;if(0==t.length)return!1;t.prop({id:B.settings.menuID,className:B.settings.wrapperClass}),d(t)}function d(e){null==e.level&&(e.level=0),t.each(e,(function(){var i=t("<div />").attr({class:"levelHolderClass"+("rtl"==B.settings.direction?" rtl":" ltr"),"data-level":e.level,style:("rtl"==B.settings.direction?"margin-right: ":"margin-left: ")+(0!=e.level||B.settings.collapsed?"-200%":0)}).appendTo(e);x(B.settings.menuWidth)||k(B.settings.menuWidth)&&B.settings.menuWidth,i.bind(N,(function(t){v(t,i)}));var n=e.children("h2");n.attr({style:"text-align: "+("rtl"==B.settings.direction?"right":"left")}),n.appendTo(i);var s=n.children("i");s.addClass(("rtl"==B.settings.direction?"floatLeft":"floatRight")+" cursorPointer"),s.bind(_,(function(t){c(t,i,e)})),e.level>0&&g(i);var l=e.children("ul");l.appendTo(i),t.each(l.children("li"),(function(){var n=t(this);n.attr({style:"text-align: "+("rtl"==B.settings.direction?"right":"left")});var s=n.children("a");s.children("i").addClass("rtl"==B.settings.direction?"floatLeft":"floatRight"),n.children("ul").length>0?(s.bind(_,(function(t){p(t,i,n)})),h(s),n.level=e.level+1,d(n)):s.bind(_,(function(t){f(t,i,n)}))}))}))}function c(e,i,n){if(t(B).find("div.levelHolderClass").is(":animated"))return!1;B.settings.onTitleItemClick.apply(this,Array.prototype.slice.call([e,i,B.settings])),s(e);var l="rtl"==B.settings.direction?parseInt(i.css("margin-right"))<0:parseInt(i.css("margin-left"))<0;if(0==n.level&&l)S();else{var a=B.settings.container.find("#"+B.settings.menuID+" div.levelHolderClass").filter((function(){return"rtl"==B.settings.direction?t(this).attr("data-level")>i.attr("data-level")&&parseInt(t(this).css("margin-right"))>=0:t(this).attr("data-level")>i.attr("data-level")&&parseInt(t(this).css("margin-left"))>=0})),r=B.settings.container.find("#"+B.settings.menuID+" div.levelHolderClass").filter((function(){return"rtl"==B.settings.direction?t(this).attr("data-level")<=i.attr("data-level")&&parseInt(t(this).css("margin-right"))>=0:t(this).attr("data-level")<=i.attr("data-level")&&parseInt(t(this).css("margin-left"))>=0}));0==a.length&&1==r.length?T():T(parseInt(i.attr("data-level")))}i.css("visibility","visible"),i.find("."+B.settings.backItemClass).css("visibility","visible"),i.find("ul").css("visibility","visible"),i.removeClass(B.settings.menuInactiveClass)}function g(e){var i=t("<div />").attr({class:B.settings.backItemClass}).appendTo(e),n=t("<a />").prop({href:"#"}).text(B.settings.backText).appendTo(i);t("<i />").prop({class:("rtl"==B.settings.direction?"floatLeft ":"floatRight ")+B.settings.backItemIcon}).prependTo(n),n.bind(_,(function(t){u(t,e)}))}function u(e,i){if(t(B).find("div.levelHolderClass").is(":animated"))return!1;B.settings.onBackItemClick.apply(this,Array.prototype.slice.call([e,i,B.settings])),s(e),T(parseInt(i.attr("data-level")-1))}function p(e,i,n){if(t(B).find("div.levelHolderClass").is(":animated"))return!1;B.settings.onGroupItemClick.apply(this,Array.prototype.slice.call([e,i,n,B.settings])),S(n.find("div:first")),B.settings.preventGroupItemClick&&s(e)}function h(e){t("<i />").attr({class:("rtl"==B.settings.direction?" floatRight iconSpacing_rtl ":" floatLeft iconSpacing_ltr ")+B.settings.groupIcon}).prependTo(e)}function m(){var e=arguments[0],i=arguments[1],n=arguments[2],s=i.find("ul:first"),l=t("<li />");n<s.children("li").length&&n>=0?l.insertBefore(s.children("li").eq(n)):l.appendTo(s),l.attr({style:"text-align: "+("rtl"==B.settings.direction?"right":"left")}),null!=e.id&&l.attr({id:e.id});var a=t("<a />").prop({href:e.link}).text(e.name).appendTo(l);t("<img />").prop({class:"rtl"==B.settings.direction?"floatLeft":"floatRight",src:e.image}).prependTo(a),t("<i />").prop({class:("rtl"==B.settings.direction?"floatLeft ":"floatRight ")+e.icon}).prependTo(a),e.items?(a.bind(_,(function(t){p(t,i,l)})),h(a),e.items.level=parseInt(i.attr("data-level"),10)+1,r(e.items,l)):a.bind(_,(function(t){f(t,i,l)}))}function f(t,e,i){B.settings.onItemClick.apply(this,Array.prototype.slice.call([t,e,i,B.settings])),B.settings.preventItemClick&&s(t)}function v(e,i){if(0==B.settings.onMenuSwipe.apply(this,Array.prototype.slice.call([e,i,B.settings])))return!1;if(t(B).find("div.levelHolderClass").is(":animated"))return!1;var n=i.attr("data-level")>0?i.attr("data-level")-1:void 0;if("touchmove"!=e.type||"touchscreen"!==B.settings.swipe&&"both"!==B.settings.swipe){if("mousedown"==e.type&&("desktop"===B.settings.swipe||"both"===B.settings.swipe)){s(e);var l=0;i.unbind("mousemove"),i.bind("mousemove",(function(t){if(l=t.clientX-e.clientX,Math.abs(l)>.3*B.settings.overlapWidth)return i.unbind("mousemove"),"rtl"==B.settings.direction&&(l*=-1),l>0?S(null==n?n:i):T(n),!0})),B.settings.container.unbind("mouseup"),B.settings.container.bind("mouseup",(function(t){s(t),i.unbind("mousemove"),B.settings.container.unbind("mouseup")}))}}else{if(s(e),!(e=e.touches?e:e.originalEvent).touches||e.touches.length<=0)return!1;var a=e.touches[0];if(B.settings.container.unbind("touchend"),B.settings.container.bind("touchend",(function(t){s(t),i.significance=0,i.swipeStart=0,B.settings.container.unbind("touchend")})),null==i.swipeStart||0==i.swipeStart)return i.significance=0,i.swipeStart=a.pageX,!0;i.significance=a.pageX-i.swipeStart,Math.abs(i.significance)>.3*B.settings.overlapWidth&&("rtl"==B.settings.direction&&(i.significance*=-1),i.significance>0?S(null==n?n:i):T(n),i.significance=0,i.swipeStart=0)}}function y(){var e=B.settings.container.find("#"+B.settings.menuID+" div.levelHolderClass").filter((function(){return"rtl"==B.settings.direction?parseInt(t(this).css("margin-right"))>=0&&t(this).position().left<B.settings.container.width()-B.settings.overlapWidth:parseInt(t(this).css("margin-left"))>=0&&t(this).position().left>=0}));return e.length<1&&(e=!1),e}function w(){var e=B.settings.container.find("#"+B.settings.menuID+" div.levelHolderClass").filter((function(){return"rtl"==B.settings.direction?t(this).position().left>B.settings.container.width()||parseInt(t(this).css("margin-right"))<0:t(this).position().left<0||parseInt(t(this).css("margin-left"))<0}));return e.length<1&&(e=!1),e}function b(){if(!B.redraw){B.redraw=!0;var e,i=arguments[0],n=arguments[1],s=arguments[2],l=t("#"+B.settings.menuID+" div.levelHolderClass").first().css("filter").match(/DXImageTransform\.Microsoft\.Shadow/)?t("#"+B.settings.menuID+" div.levelHolderClass").first().get(0).filters.item("DXImageTransform.Microsoft.Shadow").strength:0,a=null==i?Math.max.apply(null,t("#"+B.settings.menuID+" div.levelHolderClass").map((function(){return t(this).width()})).get())-l:i-l,r=Math.max.apply(null,t("#"+B.settings.menuID+" div.levelHolderClass").map((function(){return t(this).attr("data-level")})).get()),o=x(B.settings.menuWidth)||k(B.settings.menuWidth)&&B.settings.menuWidth>0,d=x(B.settings.menuHeight)||k(B.settings.menuHeight)&&B.settings.menuHeight>0,c=null==s?t("#"+B.settings.menuID+" div.levelHolderClass"):s;o||null==B.menuWidth||(a=B.menuWidth),o&&null==i?c.width(B.settings.menuWidth):c.width(a),o&&((0==c.width()||x(B.settings.menuWidth)&&-1!=B.settings.menuWidth.indexOf("%"))&&null==i&&(c.css("min-width",""),c.width(parseInt(B.settings.container.parent().width()*parseInt(B.settings.menuWidth)/100))),a=c.width()-l,c.css("min-width",c.width()-l+"px"));var g=o&&null==i?c.width()-l+r*(B.settings.overlapWidth+l):a+r*(B.settings.overlapWidth+l),u=null==n?Math.max.apply(null,t("#"+B.settings.menuID+" div.levelHolderClass").map((function(){return t(this).height()})).get()):n;B.settings.container.css("min-height",""),B.settings.container.children("nav:first").css("min-height",""),d?(B.settings.container.height(B.settings.menuHeight),B.settings.container.css("min-height",B.settings.menuHeight),B.settings.container.children("nav:first").css("min-height",B.settings.menuHeight),t("#"+B.settings.menuID).height(B.settings.menuHeight),u=B.settings.container.height()):t("#"+B.settings.menuID).height(u),B.settings.container.css("min-height",u+"px"),B.settings.container.children("nav:first").css("min-height",u+"px"),B.settings.container.width(g),B.settings.container.height(u);var p=t("#"+B.settings.menuID+" div.levelHolderClass:first"),h=y(),m=w(),f=O(),v=1==f.length?f.attr("data-level"):0;h&&h.each((function(){"overlap"==B.settings.mode&&t(this).width(t(this).width()+(parseInt(v,10)-parseInt(t(this).attr("data-level"),10))*(B.settings.overlapWidth+l))})),m&&m.each((function(){"rtl"==B.settings.direction?t(this).css("margin-right",t(this).attr("data-level")!=p.attr("data-level")||B.settings.fullCollapse?-2*t(this).width():-1*t(this).width()+B.settings.overlapWidth):t(this).css("margin-left",t(this).attr("data-level")!=p.attr("data-level")||B.settings.fullCollapse?-2*t(this).width():-1*t(this).width()+B.settings.overlapWidth)})),e=p.width()+parseInt(p.css("rtl"==B.settings.direction?"margin-right":"margin-left"),10),I(B.settings.container,e),B.menuWidth=a,B.menuHeight=u,B.redraw=!1}}function I(t,e){if(null==t||null==e)return!1;t.css("min-width",""),t.css("min-width",e+"px"),t.children("nav:first").css("min-width",""),t.children("nav:first").css("min-width",e+"px"),t.width(e)}function C(){var e=t("#"+B.settings.menuID+" div.levelHolderClass:first");B.settings.container.find("#"+B.settings.menuID+" div.levelHolderClass").filter((function(){return"rtl"==B.settings.direction?(t(this).position().left>B.settings.container.width()||parseInt(t(this).css("margin-right"))<0)&&t(this).attr("data-level")>e.attr("data-level"):(t(this).position().left<0||parseInt(t(this).css("margin-left"))<0)&&t(this).attr("data-level")>e.attr("data-level")})).each((function(){"rtl"==B.settings.direction?t(this).css("margin-right",t(this).attr("data-level")!=e.attr("data-level")||B.settings.collapsed?-2*t(this).width():0):t(this).css("margin-left",t(this).attr("data-level")!=e.attr("data-level")||B.settings.collapsed?-2*t(this).width():0)})),"rtl"==B.settings.direction?e.css("margin-right",B.settings.collapsed?-2*e.width():0):e.css("margin-left",B.settings.collapsed?-2*e.width():0)}function k(t){return"number"==typeof t&&parseFloat(t)==parseInt(t,10)&&!isNaN(t)}function x(t){return"string"==typeof t&&(-1!=t.indexOf("%")||-1!=t.indexOf("px")||-1!=t.indexOf("em"))}function W(){return e&&null!=e.menu?a():o(),l(B.settings.container,_),b(),C(),D(B.settings.collapsed),B.settings.onMenuReady.apply(this,Array.prototype.slice.call([B.settings])),G}function D(e){if(e){var i=t("#"+B.settings.menuID+" div.levelHolderClass:first");i.find("ul").hide(),i.addClass(B.settings.menuInactiveClass),"rtl"==B.settings.direction?i.stop().animate({marginRight:-1*i.width()+(B.settings.fullCollapse?0:B.settings.overlapWidth)},B.settings.durationSlideOut):i.stop().animate({marginLeft:-1*i.width()+(B.settings.fullCollapse?0:B.settings.overlapWidth)},B.settings.durationSlideOut)}}function H(e){if(null==B.settings.containersToPush)return!1;t.each(B.settings.containersToPush,(function(){var i=parseInt(t(this).css("margin-left")),n=k(i)?i:0,s=parseInt(t(this).css("margin-right")),l=k(s)?s:0;t(this).stop().animate({marginLeft:n+("rtl"==B.settings.direction?-1:1)*e,marginRight:l+("rtl"==B.settings.direction?1:-1)*e},B.settings.durationSlideOut)}))}function T(){if(t(B).find("div.levelHolderClass").is(":animated"))return!1;B.settings.onCollapseMenuStart.apply(this,Array.prototype.slice.call([B.settings]));var e,i,n,s,l=arguments[0],a=arguments[1],r={},o=t("#"+B.settings.menuID+" div.levelHolderClass:first"),d=null==l;if(r.collapsingEnded=!1,"object"==typeof l)l=l.attr("data-level");else if("string"==typeof l){var c=M(l);l=c&&1==c.length?c.attr("data-level"):o.attr("data-level")}else(null==l||!k(l)||l<0)&&(l=o.attr("data-level"));null==a&&"object"!=typeof a?a=[{method:B.settings.onCollapseMenuEnd,args:[B.settings]}]:t.merge(a,[{method:B.settings.onCollapseMenuEnd,args:[B.settings]}]);var g=B.settings.container.find("#"+B.settings.menuID+" div.levelHolderClass").filter((function(){return"rtl"==B.settings.direction?t(this).attr("data-level")>l&&parseInt(t(this).css("margin-right"))>=0&&t(this).position().left<B.settings.container.width()-B.settings.overlapWidth:t(this).attr("data-level")>l&&parseInt(t(this).css("margin-left"))>=0&&t(this).position().left>=0})),u=B.settings.container.find("#"+B.settings.menuID+" div.levelHolderClass").filter((function(){return"rtl"==B.settings.direction?t(this).attr("data-level")<=l&&parseInt(t(this).css("margin-right"))>=0&&t(this).position().left<B.settings.container.width()-B.settings.overlapWidth:t(this).attr("data-level")<=l&&parseInt(t(this).css("margin-left"))>=0&&t(this).position().left>=0}));return u.length>0&&(r.prevAnimEnded=!1,g.each((function(n,s){e=t(s).css("filter").match(/DXImageTransform\.Microsoft\.Shadow/)?t(s).get(0).filters.item("DXImageTransform.Microsoft.Shadow").strength:0,i="overlap"==B.settings.mode?t(s).width()-(g.length+u.length-t(s).attr("data-level")-1)*(B.settings.overlapWidth+e)-e:t(s).width()-e,"rtl"==B.settings.direction?t(s).stop().animate({marginRight:-1*i,width:i},B.settings.durationTransition):t(s).stop().animate({marginLeft:-1*i,width:i},B.settings.durationTransition)})),r.nextAnimEnded=!(g.length>0),g.last().queue((function(){r.nextAnimEnded=!0,z(r,a)})),u.each((function(a,r){e=t(r).css("filter").match(/DXImageTransform\.Microsoft\.Shadow/)?t(r).get(0).filters.item("DXImageTransform.Microsoft.Shadow").strength:0;var c=u.filter((function(){return t(this).attr("data-level")==l}));c.css("visibility","visible"),c.find("."+B.settings.backItemClass).css("visibility","visible"),c.find("ul").css("visibility","visible"),c.removeClass(B.settings.menuInactiveClass),i="overlap"==B.settings.mode?t(r).width()-g.length*(B.settings.overlapWidth+e)-e:t(r).width()-e,"rtl"==B.settings.direction?t(r).stop().animate({width:i,marginRight:t(r).attr("data-level")==o.attr("data-level")&&d?B.settings.fullCollapse?-1*t(r).width():-1*t(r).width()+("overlap"==B.settings.mode?g.length+1:1)*B.settings.overlapWidth:0},B.settings.durationSlideOut,(function(){t(r).attr("data-level")==o.attr("data-level")&&d&&o.children("ul").first().hide(B.settings.durationSlideDown,(function(){o.addClass(B.settings.menuInactiveClass)})),s=o.width()+parseInt(o.css("margin-right"),10),I(B.settings.container,s)})):t(r).stop().animate({width:i,marginLeft:t(r).attr("data-level")==o.attr("data-level")&&d?B.settings.fullCollapse?-1*t(r).width():-1*t(r).width()+("overlap"==B.settings.mode?g.length+1:1)*B.settings.overlapWidth:0},B.settings.durationSlideOut,(function(){t(r).attr("data-level")==o.attr("data-level")&&d&&o.children("ul").first().hide(B.settings.durationSlideDown,(function(){o.addClass(B.settings.menuInactiveClass)})),s=o.width()+parseInt(o.css("margin-left"),10),I(B.settings.container,s)})),n="overlap"==B.settings.mode?g.length*(B.settings.overlapWidth+e)*-1:0,H(t(r).attr("data-level")==o.attr("data-level")&&d?B.settings.fullCollapse?-1*(o.width()-e):-1*(o.width()-e)+B.settings.overlapWidth:n)})),u.last().queue((function(){r.prevAnimEnded=!0,z(r,a)}))),r.collapsingEnded=!0,z(r,a),G}function A(){if(t(B).find("div.levelHolderClass").is(":animated"))return!1;B.settings.onExpandMenuStart.apply(this,Array.prototype.slice.call([B.settings]));var e,i,n,s,l,a=arguments[0],r=arguments[1],o={},d=t("#"+B.settings.menuID+" div.levelHolderClass:first"),c=null==a,g="rtl"==B.settings.direction?parseInt(d.css("margin-right"),10)<0||d.position().left>=B.settings.container.width()-B.settings.overlapWidth:parseInt(d.css("margin-left"),10)<0||d.position().left<0;if(o.expandingEnded=!1,null==r&&"object"!=typeof r?r=[{method:B.settings.onExpandMenuEnd,args:[B.settings]}]:t.merge(r,[{method:B.settings.onExpandMenuEnd,args:[B.settings]}]),c)o.baseAnimEnded=!1,d.removeClass(B.settings.menuInactiveClass),s=d.width(),I(B.settings.container,s),"rtl"==B.settings.direction?d.stop().animate({marginRight:0},B.settings.durationSlideOut,(function(){d.children("ul").first().show(B.settings.durationSlideDown,(function(){o.baseAnimEnded=!0,z(o,r)}))})):d.stop().animate({marginLeft:0},B.settings.durationSlideOut,(function(){d.children("ul").first().show(B.settings.durationSlideDown,(function(){o.baseAnimEnded=!0,z(o,r)}))})),n=B.settings.fullCollapse?d.width():d.width()-B.settings.overlapWidth,X(d)||H(n);else if("object"==typeof a?l=a:"string"==typeof a?l=M(a):(l=null,t.error("Provided menu selector is not valid")),l&&1==l.length){var u=O(),p=1==u.length?u.attr("data-level"):0,h=l.width(),m=j(l);if(o.setToOpenAnimEnded=!1,m){var f=t(m).length-1;d.find("ul").each((function(){t(this).show(0)})),t(m).find("ul").css("visibility","hidden"),t(m).find("div").css("visibility","visible"),t(m).find("."+B.settings.backItemClass).css("visibility","hidden"),t(m).each((function(n,s){e=t(s).css("filter").match(/DXImageTransform\.Microsoft\.Shadow/)?t(s).get(0).filters.item("DXImageTransform.Microsoft.Shadow").strength:0,i=h-e+(f-t(s).attr("data-level"))*(B.settings.overlapWidth+e),B.settings.container.width()<i&&"overlap"==B.settings.mode&&I(B.settings.container,i),"rtl"==B.settings.direction?t(s).stop().animate({marginRight:0,width:"overlap"==B.settings.mode?i:h-e},B.settings.durationTransition,(function(){t(s).addClass(B.settings.menuInactiveClass)})):t(s).stop().animate({marginLeft:0,width:"overlap"==B.settings.mode?i:h-e},B.settings.durationTransition,(function(){t(s).addClass(B.settings.menuInactiveClass)}))})),t(m).last().queue((function(){t(this).removeClass(B.settings.menuInactiveClass),o.setToOpenAnimEnded=!0,z(o,r)})),g&&H(n=B.settings.fullCollapse?d.width():d.width()-B.settings.overlapWidth),"overlap"==B.settings.mode&&H(g?h+(f-(B.settings.fullCollapse?0:1))*(B.settings.overlapWidth+e):(f-p)*(B.settings.overlapWidth+e)),l.css("visibility","visible"),l.find("."+B.settings.backItemClass).css("visibility","visible"),l.find("ul").css("visibility","visible"),l.removeClass(B.settings.menuInactiveClass)}else t.error("Invalid menu object provided")}else t.error("No or too many menus named "+a);o.expandingEnded=!0,z(o,r)}function S(){var e,i,n,s,l=arguments[0],a=O();return"object"==typeof l?e=l:"string"==typeof l?(s=M(l))?e=s.eq(0):t.error(l+" menu level does not exist!"):e=t("#"+B.settings.menuID+" div.levelHolderClass:first"),(n=(i=R(e,a,!0)).length>0?Math.max.apply(null,i.map((function(){return t(this).attr("data-level")})).get()):0)<a.attr("data-level")?T(n,[{method:A,args:arguments}]):A.apply(this,Array.prototype.slice.call(arguments)),G}function M(){var e=arguments[0],i=B.settings.container.find("#"+B.settings.menuID+" div.levelHolderClass").filter((function(){var i=t(this).children("h2").text();return"[object RegExp]"===Object.prototype.toString.call(e)?i.match(e):i===e.toString()}));return n=i.length>0&&i}function E(){var e=arguments[0],i=B.settings.container.find("#"+B.settings.menuID+" div.levelHolderClass li").filter((function(){var i=t(this).children("a").text();return"[object RegExp]"===Object.prototype.toString.call(e)?i.match(e):i===e.toString()}));return n=i.length>0&&i}function j(){var e,i,s=arguments[0];return null==s||1!=s.length?n=!1:(e=s.parents("div.levelHolderClass"),i=t.merge(e.get().reverse(),s.get()),n=i)}function R(){var e,i,s,l,a,r,o,d=arguments[0],c=arguments[1],g=null!=arguments[2]&&arguments[2];return null==d||null==c?n=!1:(e=1==d.length?d.parents("div.levelHolderClass"):null,i=1==c.length?c.parents("div.levelHolderClass"):null,s=null!=e?t.merge(e.get().reverse(),d.get()):[],l=null!=i?t.merge(i.get().reverse(),c.get()):[],a=s.length>=l.length?s:l,r=a===s?l:s,o=t(a).filter((function(){return g?-1!=t.inArray(this,r):-1==t.inArray(this,r)})),n=o)}function O(){var e=B.settings.container.find("#"+B.settings.menuID+" div.levelHolderClass").filter((function(){return"rtl"==B.settings.direction?parseInt(t(this).css("margin-right"))>=0&&t(this).position().left<B.settings.container.width()-B.settings.overlapWidth:parseInt(t(this).css("margin-left"))>=0&&t(this).position().left>=0})),i=Math.max.apply(null,e.map((function(){return t(this).attr("data-level")})).get()),s=e.filter((function(){return t(this).attr("data-level")==i}));return n=s}function X(){var t=arguments[0];return null!=t&&("rtl"==B.settings.direction?parseInt(t.css("margin-right"))>=0&&t.position().left<B.settings.container.width()-B.settings.overlapWidth:parseInt(t.css("margin-left"))>=0&&t.position().left>=0)}function L(){var e=arguments[0],i=arguments[1],n=arguments[2];return!(null==i||"object"!=typeof e||!i)&&(null==e.level&&(e.level=parseInt(i.attr("data-level"),10)),null==n&&(n=0),i.find("ul:first"),t.each(e,(function(){null!=this.name&&m(this,i,n)})),b(B.menuWidth),G)}function q(){var e=arguments[0];if(null==e||"object"!=typeof e||0==e.length)return!1;e.remove();var i=O();if(1==i.length){i.css("visibility","visible"),i.find("."+B.settings.backItemClass).css("visibility","visible"),i.find("ul").css("visibility","visible"),i.removeClass(B.settings.menuInactiveClass);var n=i.width()-B.menuWidth;if(0!=n){var s=y();s&&s.each((function(){t(this).width(t(this).width()-n)}))}}return b(B.menuWidth),G}function z(e,i){var n=!0;t.each(e,(function(t,e){n=n&&e})),n&&window.setTimeout((function(){t.each(i,(function(t,e){e.method.apply(this,Array.prototype.slice.call(e.args))}))}),1)}function P(){var e=!1;return null!=B.settings[arguments[0]]?(null!=arguments[1]&&(B.settings[arguments[0]]=arguments[1]),e=B.settings[arguments[0]]):t.error("No option "+arguments[0]+" found in jQuery.mlpm"),e}var _,N,B=this,G=t(this),Y=null!=G.context?G:t("body"),Q=e&&null!=e.menu?e.menu:G.find("nav"),F=t.extend({container:Y,containersToPush:null,menuID:(null!=Y.prop("id")&&""!=Y.prop("id")?Y.prop("id"):this.nodeName.toLowerCase())+"_mlpm",wrapperClass:"mlpm_wrapper",menuInactiveClass:"mlpm_inactive",menu:Q,menuWidth:0,menuHeight:0,collapsed:!1,fullCollapse:!1,direction:"ltr",backText:"Back",backItemClass:"backItemClass",backItemIcon:"fa fa-angle-right",groupIcon:"fa fa-angle-left",mode:"overlap",overlapWidth:40,preventItemClick:!0,preventGroupItemClick:!0,swipe:"both",durationSlideOut:400,durationSlideDown:500,durationTransition:400,onCollapseMenuStart:function(){},onCollapseMenuEnd:function(){},onExpandMenuStart:function(){},onExpandMenuEnd:function(){},onGroupItemClick:function(){},onItemClick:function(){},onTitleItemClick:function(){},onBackItemClick:function(){},onMenuReady:function(){},onMenuSwipe:function(){}},e);t.data(B,"plugin_mlpm")||(t.data(B,"plugin_mlpm",F),B.settings=t.data(B,"plugin_mlpm"));var V={init:function(){return W.apply(this,Array.prototype.slice.call(arguments))},collapse:function(){return T.apply(this,Array.prototype.slice.call(arguments))},expand:function(){return S.apply(this,Array.prototype.slice.call(arguments))},menuexpanded:function(){return X.apply(this,Array.prototype.slice.call(arguments))},activemenu:function(){return O.apply(this,Array.prototype.slice.call(arguments))},findmenusbytitle:function(){return M.apply(this,Array.prototype.slice.call(arguments))},finditemsbyname:function(){return E.apply(this,Array.prototype.slice.call(arguments))},pathtoroot:function(){return j.apply(this,Array.prototype.slice.call(arguments))},comparepaths:function(){return R.apply(this,Array.prototype.slice.call(arguments))},option:function(){return P.apply(this,Array.prototype.slice.call(arguments))},additems:function(){return L.apply(this,Array.prototype.slice.call(arguments))},removeitems:function(){return q.apply(this,Array.prototype.slice.call(arguments))},redraw:function(){return b.apply(this,Array.prototype.slice.call(arguments))},visiblemenus:function(){return y.apply(this,Array.prototype.slice.call(arguments))},hiddenmenus:function(){return w.apply(this,Array.prototype.slice.call(arguments))},propagateevent:function(){return l.apply(this,Array.prototype.slice.call(arguments))}};return function(){var t=!1;return function(e){(/(android|ipad|playbook|silk|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0)}(navigator.userAgent||navigator.vendor||window.opera),t}()?(_="touchend",N="touchmove"):(_="click",N="mousedown"),V[e]?n=V[e].apply(this,Array.prototype.slice.call(i,1)):"object"!=typeof e&&e?(t.error("No "+e+" method found in jQuery.mlpm"),void(n||(n=this))):n=V.init.apply(this,arguments)})),n}}(jQuery);